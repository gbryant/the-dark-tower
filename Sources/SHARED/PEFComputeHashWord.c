#include "ProjectHeaders.h"UInt32  PEFComputeHashWord  ( BytePtr   nameText, UInt32    nameLength )    // ! The text may be zero terminated.{BytePtr charPtr     = nameText;SInt32  hashValue   = 0;        // ! Signed to match old published algorithm.UInt32  length      = 0;UInt32  limit;UInt32  result;UInt8   currChar;#define PseudoRotate(x)  ( ( (x) << 1 ) - ( (x) >> 16 ) )for ( limit = nameLength; limit > 0; limit -= 1 ) {currChar = *charPtr++;if ( currChar == NULL ) break;length += 1;hashValue = PseudoRotate ( hashValue ) ^ currChar;}result  = (length << kPEFHashLengthShift) |((UInt16) ((hashValue ^ (hashValue >> 16)) & kPEFHashValueMask));return result;}